<!DOCTYPE html>
<html lang="id">
<head>
    <%- include('partials/header') %>
    <title>Admin Dashboard | Database HIFI</title>
</head>
<body class="is-desktop">
    <!-- Background Shapes -->
    <div class="bg-shape bg-shape-1"></div>
    <div class="bg-shape bg-shape-2"></div>
    <div class="bg-shape bg-shape-3"></div>

    <!-- Navbar -->
    <%- include('partials/navbar') %>

    <!-- Sidebar -->
    <%- include('partials/sidebar') %>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container-glass">
            <!-- Alert Messages -->
            <%- include('partials/message') %>

            <!-- Dashboard Header -->
            <div class="dashboard-header" style="margin-bottom: 32px;">
                <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 16px;">
                    <div>
                        <h1 class="text-gradient" style="font-size: 36px; margin: 0; font-weight: 800; letter-spacing: -1px;">
                            Dashboard Admin
                        </h1>
                        <p style="color: #6B7280; margin: 8px 0 0 0; font-size: 16px; font-weight: 500;">
                            Selamat datang kembali, <strong style="color: #1E3A8A;"><%= nama %></strong>
                        </p>
                    </div>
                    <div style="display: flex; gap: 12px; align-items: center;">
                        <div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border-radius: 16px; padding: 12px 20px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); display: flex; align-items: center; gap: 12px;">
                            <i class="fas fa-clock" style="color: #DC143C; font-size: 18px;"></i>
                            <span id="currentDateTime" style="color: #1F2937; font-weight: 600; font-size: 14px;"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statistics Cards -->
            <div class="grid-responsive" style="margin-bottom: 40px;">
                <!-- Total Users Card -->
                <div class="stat-card" style="opacity: 0;">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                        <div style="flex: 1;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                                <i class="fas fa-users" style="color: #DC143C; font-size: 24px;"></i>
                                <h3 style="margin: 0; color: #6B7280; font-size: 14px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">
                                    Total Anggota
                                </h3>
                            </div>
                            <p style="margin: 0; font-size: 40px; font-weight: 800; background: linear-gradient(135deg, #DC143C 0%, #1E3A8A 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1;">
                                <%= count.user %>
                            </p>
                            <p style="margin: 8px 0 0 0; color: #9CA3AF; font-size: 13px; font-weight: 500;">
                                <i class="fas fa-arrow-up" style="color: #10B981; margin-right: 4px;"></i>
                                Terdaftar di sistem
                            </p>
                        </div>
                        <div class="stat-card-icon" style="background: linear-gradient(135deg, #DC143C 0%, #FF6B8A 100%);">
                            <i class="fas fa-users"></i>
                        </div>
                    </div>
                </div>

                <!-- Admin Count Card -->
                <div class="stat-card" style="opacity: 0;">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                        <div style="flex: 1;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                                <i class="fas fa-user-shield" style="color: #1E3A8A; font-size: 24px;"></i>
                                <h3 style="margin: 0; color: #6B7280; font-size: 14px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">
                                    Total Admin
                                </h3>
                            </div>
                            <p style="margin: 0; font-size: 40px; font-weight: 800; background: linear-gradient(135deg, #1E3A8A 0%, #3B82F6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1;">
                                <%= admin.length %>
                            </p>
                            <p style="margin: 8px 0 0 0; color: #9CA3AF; font-size: 13px; font-weight: 500;">
                                <i class="fas fa-shield-alt" style="color: #3B82F6; margin-right: 4px;"></i>
                                Pengelola sistem
                            </p>
                        </div>
                        <div class="stat-card-icon" style="background: linear-gradient(135deg, #1E3A8A 0%, #3B82F6 100%);">
                            <i class="fas fa-user-shield"></i>
                        </div>
                    </div>
                </div>

                <!-- Active Users Card -->
                <div class="stat-card" style="opacity: 0;">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                        <div style="flex: 1;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                                <i class="fas fa-user-check" style="color: #10B981; font-size: 24px;"></i>
                                <h3 style="margin: 0; color: #6B7280; font-size: 14px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">
                                    Status
                                </h3>
                            </div>
                            <p style="margin: 0; font-size: 40px; font-weight: 800; background: linear-gradient(135deg, #10B981 0%, #059669 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1;">
                                Aktif
                            </p>
                            <p style="margin: 8px 0 0 0; color: #9CA3AF; font-size: 13px; font-weight: 500;">
                                <i class="fas fa-check-circle" style="color: #10B981; margin-right: 4px;"></i>
                                Sistem berjalan normal
                            </p>
                        </div>
                        <div class="stat-card-icon" style="background: linear-gradient(135deg, #10B981 0%, #059669 100%);">
                            <i class="fas fa-heartbeat"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Data Table Section -->
            <div class="table-container">
                <%- include('partials/table') %>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <%- include('partials/script') %>
    <%- include('partials/footer') %>

    <!-- Additional Admin Scripts -->
    <script src="/javascript/admin-animations.js"></script>

    <!-- Real-time Clock -->
    <script>
        function updateDateTime() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            };
            const dateTimeString = now.toLocaleDateString('id-ID', options);
            const el = document.getElementById('currentDateTime');
            if (el) el.textContent = dateTimeString;
        }
        
        updateDateTime();
        setInterval(updateDateTime, 1000);
    </script>
</body>
</html>
