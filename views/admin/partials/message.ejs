<% if (message != '') { %>
  <div 
    id="alert-border-3" 
    class="alert-glass alert-<%= status === 'success' ? 'success' : status === 'danger' ? 'error' : 'info' %>" 
    style="margin-bottom: 28px; position: relative; overflow: hidden;"
  >
    <!-- Animated Progress Bar -->
    <div style="position: absolute; bottom: 0; left: 0; height: 3px; background: rgba(255, 255, 255, 0.5); width: 100%; animation: progressBar 5s linear;">
    </div>
    
    <!-- Alert Icon with Animation -->
    <div style="display: flex; align-items: center; justify-content: center; width: 42px; height: 42px; border-radius: 50%; background: rgba(255, 255, 255, 0.2); animation: iconPulse 2s ease-in-out infinite;">
      <i class="fas fa-<%= status === 'success' ? 'check-circle' : status === 'danger' ? 'exclamation-circle' : 'info-circle' %>" style="font-size: 20px;"></i>
    </div>
    
    <!-- Alert Content -->
    <div style="flex: 1; display: flex; flex-direction: column; gap: 4px;">
      <strong style="font-size: 15px; font-weight: 700; letter-spacing: 0.3px;">
        <%= status === 'success' ? 'Berhasil!' : status === 'danger' ? 'Perhatian!' : 'Informasi' %>
      </strong>
      <span style="font-size: 14px; opacity: 0.95;"><%= message %></span>
    </div>
    
    <!-- Close Button -->
    <button 
      onclick="dismissAlert()" 
      style="background: rgba(255, 255, 255, 0.2); border: none; color: inherit; cursor: pointer; margin-left: auto; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; flex-shrink: 0;"
      onmouseover="this.style.background='rgba(255, 255, 255, 0.3)'; this.style.transform='rotate(90deg)'"
      onmouseout="this.style.background='rgba(255, 255, 255, 0.2)'; this.style.transform='rotate(0deg)'"
      title="Tutup"
    >
      <i class="fas fa-times" style="font-size: 14px;"></i>
    </button>
  </div>
  
  <style>
    @keyframes progressBar {
      from { width: 100%; }
      to { width: 0%; }
    }
    
    @keyframes iconPulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
      }
      50% {
        transform: scale(1.05);
        box-shadow: 0 0 0 8px rgba(255, 255, 255, 0);
      }
    }
  </style>
  
  <script>
    function dismissAlert() {
      const alert = document.getElementById("alert-border-3");
      if (alert) {
        alert.style.animation = 'slideOutUp 0.5s ease-out forwards';
        setTimeout(() => {
          alert.remove();
        }, 500);
      }
    }
    
    // Auto dismiss after 5 seconds
    setTimeout(() => {
      dismissAlert();
    }, 5000);
    
    // Add keyboard shortcut (Escape) to dismiss
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        dismissAlert();
      }
    }, { once: true });
  </script>
<% } %>
