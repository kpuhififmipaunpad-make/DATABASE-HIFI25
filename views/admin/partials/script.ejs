<!-- Font Awesome -->
<script src="https://kit.fontawesome.com/7cc967098c.js" crossorigin="anonymous"></script>

<!-- jQuery / Bootstrap / AdminLTE -->
<script src="/adminlte/plugins/jquery/jquery.min.js"></script>
<script src="/adminlte/plugins/jquery-ui/jquery-ui.min.js"></script>
<script> $.widget.bridge('uibutton', $.ui.button) </script>
<script src="/adminlte/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/adminlte/dist/js/adminlte.js"></script>

<!-- DataTables + Buttons -->
<script src="/adminlte/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="/adminlte/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
<script src="/adminlte/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
<script src="/adminlte/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
<script src="/adminlte/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
<script src="/adminlte/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
<script src="/adminlte/plugins/jszip/jszip.min.js"></script>
<script src="/adminlte/plugins/pdfmake/pdfmake.min.js"></script>
<script src="/adminlte/plugins/pdfmake/vfs_fonts.js"></script>
<script src="/adminlte/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
<script src="/adminlte/plugins/datatables-buttons/js/buttons.print.min.js"></script>
<script src="/adminlte/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

<script>
  // tombol Refresh
  window.HIFIAdmin = { refreshData: () => window.location.reload() };

  $(function(){
    const $tbl = $('#usersTable');
    if (!$tbl.length) return;

    // Hapus/hidden kontrol TOP khusus (search & page select) bila masih ada di DOM
    $('#searchNama, #itemsPerPage, #pageSelect')
      .closest('.form-group, .input-group, .toolbar-item, .table-toolbar')
      .remove();
    $('#searchNama, #itemsPerPage, #pageSelect').remove();

    // Init DataTable – hanya bottom: info + paginate
    const table = $tbl.DataTable({
      responsive: true,
      autoWidth: false,
      dom: 't<"dt-bottom"ip>',
      searching: true,      // aktif untuk API, tapi UI default kita sembunyikan via CSS
      lengthChange: false,  // hilangkan dropdown length bawaan
      pageLength: 10,
      pagingType: 'full_numbers',
      columnDefs: [
        { targets: 'no-export', orderable: false, searchable: false }
      ],
      order: [[1, 'asc']],
      language: {
        paginate: { previous: 'Sebelumnya', next: 'Selanjutnya' },
        info: 'Menampilkan _START_ sampai _END_ dari _TOTAL_ data',
        infoEmpty: 'Tidak ada data',
        zeroRecords: 'Data tidak ditemukan'
      }
    });

    // Export buttons (hijau)
    const btns = new $.fn.dataTable.Buttons(table, {
      buttons: [
        { extend: 'excelHtml5', text: '<i class="fas fa-file-excel"></i> Export Excel', className: 'dt-btn-green' },
        { extend: 'pdfHtml5',   text: '<i class="fas fa-file-pdf"></i> Export PDF',   className: 'dt-btn-green', orientation: 'landscape', pageSize: 'A4' },
        { extend: 'print',      text: '<i class="fas fa-print"></i> Print',           className: 'dt-btn-green' }
      ]
    });
    table.buttons().container().appendTo($('.table-toolbar')[0] || $('#usersTable_wrapper')[0]);

    // ——— TIDAK ADA row-detail pada klik (permintaan kamu) ———
    // jadi tidak ada handler klik baris di sini.
  });
</script>
